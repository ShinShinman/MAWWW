{"version":3,"file":"ma.js","sources":["ma.coffee"],"names":[],"mappings":"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","sourcesContent":["class MA\r\n\t# Menu vars\r\n\tsearchForm = $('#search-form')\r\n\tsearchTrigger = $('.search-trigger')\r\n\tmenuTrigger = $('.menu-trigger')\r\n\tmainMenu = $('.main-menu')\r\n\r\n\t# Isotope grid vars\r\n\tgrid = $('.bricks-container')\r\n\tgridItem = '.brick'\r\n\r\n\t# Scope problems\r\n\t@settings =\r\n\t\tstickyNav: $('.sticky-nav')\r\n\t\tsearchForm: $('#search-form')\r\n\t\tsearchTrigger: $('.search-trigger')\r\n\t\tmenuTrigger: $('.menu-trigger')\r\n\t\tmainMenu: $('.main-menu')\r\n\t\tmainMenuOpened: false\r\n\t\tgrid: $('.bricks-container')\r\n\t\tgridItem: '.brick'\r\n\t\thighlightOn: false\r\n\t\thighlightVisible: false\r\n\r\n\r\n\t# Private methods\r\n\r\n\tsearchToggle = (trigger, target) -> \r\n\t\ttrigger.click ->\r\n\t\t\ttarget.css('opacity', (i, opacity) ->\r\n\t\t\t\tif opacity > 0 then 0 else 1\r\n\t\t\t)\r\n\r\n\topenMenu = ->\r\n\t\ttarget = MA.settings.mainMenu\r\n\t\ttrigger = MA.settings.menuTrigger\r\n\t\tMA.settings.mainMenuOpened = true\r\n\t\ttarget.show().parent().data('state', 'extended').addClass('extended').css('height', '100vh')\r\n\t\tstickyNavSetup({\r\n\t\t\tcolor: 'white',\r\n\t\t\tbackgroundColor: 'black'\r\n\t\t})\r\n\t\ttargetHeight = $(window).height() - 150\r\n\t\ttrigger.text('X')\r\n\t\ttarget.css('height', targetHeight).perfectScrollbar({\r\n\t\t\tsuppressScorllX: true\r\n\t\t})\r\n\t\treturn\r\n\r\n\tcloseMenu = ->\r\n\t\ttarget = MA.settings.mainMenu\r\n\t\ttrigger = MA.settings.menuTrigger\r\n\t\tMA.settings.mainMenuOpened = false\r\n\t\ttarget.parent().data('state', 'collapsed')\r\n\t\ttarget.hide().parent().removeClass('extended').css('height', 'auto')\r\n\t\tstickyNavSetup({\r\n\t\t\tcolor: 'black',\r\n\t\t\tbackgroundColor: 'transparent'\r\n\t\t\t# backgroundColor: if MA.settings.highlightVisible then 'transparent' else 'white'\r\n\t\t\t})\r\n\t\ttrigger.text('g')\r\n\t\treturn\r\n\r\n\tmenuToggle = (trigger, target) ->\r\n\t\ttrigger.click ->\r\n\t\t\tmainMenuState = target.parent().data('state')\r\n\t\t\tif mainMenuState == 'collapsed'\r\n\t\t\t\topenMenu()\r\n\t\t\telse\r\n\t\t\t\tcloseMenu()\r\n\r\n\tisotopeSetup = (target, item) ->\r\n\t\t$(window).load( ->\r\n\t\t\tgrid.isotope({\r\n\t\t\t\titemSelector: item,\r\n\t\t\t\tmasonry: {\r\n\t\t\t\t\tgutter: 15\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t)\r\n\r\n\tstickyNavSetup = (options) ->\r\n\t\tsettings = $.extend( {\r\n\t\t\t#defaults\r\n\t\t\tcolor: 'black',\r\n\t\t\tbackgroundColor: 'white'\r\n\t\t}, options )\r\n\r\n\t\tMA.settings.stickyNav.css( {\r\n\t\t\t'color': settings.color\r\n\t\t\t'backgroundColor': settings.backgroundColor\r\n\t\t} )\r\n\r\n\tsetNavBackground = (offsetElement) ->\r\n\t\toffset = $(offsetElement).height() - 125\r\n\t\tdirCount = [0, 0]\r\n\t\tdirection = ''\r\n\r\n\t\t$(window).scroll ->\r\n\t\t\tdirCount.pop()\r\n\t\t\tdirCount.push($(window).scrollTop())\r\n\t\t\tdirCount.reverse()\r\n\t\t\tdirection = if dirCount[0] > dirCount[1] then 'down' else 'up'\r\n\r\n\t\t# Highligt in!\r\n\t\t\tif $(window).scrollTop() < offset and  not MA.settings.mainMenuOpened\r\n\t\t\t\tstickyNavSetup({\r\n\t\t\t\t\tbackgroundColor: 'transparent'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t# Highligt out!\r\n\t\t\tif $(window).scrollTop() >= offset and  not MA.settings.mainMenuOpened\r\n\t\t\t\tstickyNavSetup({\r\n\t\t\t\t\tbackgroundColor: 'white'\r\n\t\t\t\t\t})\r\n\t\treturn\r\n\r\n\r\n\tsetupHighlight: ->\r\n\t\tMA.settings.highlightOn = true\r\n\t\titems = $('.owl-carousel .item').length\r\n\t\t$('.owl-carousel').owlCarousel({\r\n\t\t\tloop: items > 1,\r\n\t\t\titems: 1,\r\n\t\t\tdots: true,\r\n\t\t\tsmartSpeed: 1000,\r\n\t\t\tautoplay: true,\r\n\t\t\tautoplayTimeout: 7000,\r\n\t\t\tsmartSpeed: 800\r\n\t\t\t# autoplayHoverPause: true\r\n\t\t})\r\n\t\tstickyNavSetup({\r\n\t\t\tbackgroundColor: 'transparent'\r\n\t\t})\r\n\r\n\t\t$('.slide-down a').click ->\r\n\t\t\thlHeight = $('.owl-carousel').height() - 125\r\n\t\t\tconsole.log 'Click!'\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: hlHeight\r\n\t\t\t}, 800)\r\n\r\n\t\tsetNavBackground('.owl-carousel')\r\n\r\n\t\t###\r\n\t\thlHeight = $('.owl-carousel').height()\r\n\t\tMA.settings.highlightVisible = true\r\n\t\tdirCount = [0, 0]\r\n\t\tdirection = ''\r\n\r\n\t\t$(window).scroll ->\r\n\t\t\tdirCount.pop()\r\n\t\t\tdirCount.push($(window).scrollTop())\r\n\t\t\tdirCount.reverse()\r\n\t\t\tdirection = if dirCount[0] > dirCount[1] then 'down' else 'up'\r\n\t\t\tconsole.log direction\r\n\r\n\t\t\t# Highligt in!\r\n\t\t\tif $(window).scrollTop() < hlHeight and not MA.settings.highlightVisible\r\n\t\t\t\tMA.settings.highlightVisible = true\r\n\t\t\t\tstickyNavSetup({\r\n\t\t\t\t\tbackgroundColor: 'transparent'\r\n\t\t\t\t\t})\r\n\t\t\t\tconsole.log 'Highligt in!'\r\n\r\n\t\t\t# Highligt out!\r\n\t\t\tif $(window).scrollTop() >= hlHeight and MA.settings.highlightVisible\r\n\t\t\t\tMA.settings.highlightVisible = false\r\n\t\t\t\tstickyNavSetup({\r\n\t\t\t\t\tbackgroundColor: 'white'\r\n\t\t\t\t\t})\r\n\t\t\t\tconsole.log 'Highligt out!'\r\n\t\t###\r\n\r\n\t\treturn\r\n\r\n\tisScrolledIntoView = (elem) ->\r\n\t\t$elem = $(elem);\r\n\t\t$window = $(window);\r\n\r\n\t\tdocViewTop = $window.scrollTop();\r\n\t\tdocViewBottom = docViewTop + $window.height();\r\n\r\n\t\telemTop = $elem.offset().top;\r\n\t\telemBottom = elemTop + $elem.height();\r\n\r\n\t\treturn ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\r\n\r\n\r\n\t\r\n\t# Public methods\r\n\tstickyNavSetup: (options) ->\r\n\t\tsettings = $.extend( {\r\n\t\t\t#defaults\r\n\t\t\tcolor: 'black',\r\n\t\t\tbackgroundColor: 'white'\r\n\t\t}, options )\r\n\r\n\t\tMA.settings.stickyNav.css( {\r\n\t\t\t'color': settings.color\r\n\t\t\t'backgroundColor': settings.backgroundColor\r\n\t\t} )\r\n\r\n\tiS: (options) ->\r\n\t\tsettings = $.extend\r\n\t\t\t#defaults\r\n\t\t\tgrid: MA.settings.grid\r\n\t\t\titem: MA.settings.gridItem\r\n\t\t\tslider: false\r\n\t\t\tsliderItem: $('.slider')\r\n\t\t\tsliderRange: [1965, 2016]\r\n\t\t\t, options\r\n\r\n\t\tsettings.grid.isotope\r\n\t\t\titemSelector: settings.gridItem,\r\n\t\t\tmasonry:\r\n\t\t\t\tgutter: 15\r\n\r\n\t\t#filtrowanie przyciskami\r\n\t\tgetHashFilter = ->\r\n\t\t\thash = location.hash\r\n\t\t\t# get filter=filterName\r\n\t\t\tmatches = location.hash.match(/filter=([^&]+)/i)\r\n\t\t\thashFilter = matches and matches[1]\r\n\t\t\thashFilter and decodeURIComponent(hashFilter)\r\n\r\n\t\tfilters = $('.filters li')\r\n\t\tfilterTriggers = $('.filters li a:not(.clear-filter)')\r\n\r\n\t\tclear = $('.filters li a.clear-filter')\r\n\t\tshowAll = $('.filters li.show-all')\r\n\r\n\t\tclear.click (e) ->\r\n\t\t\te.preventDefault()\r\n\t\t\tfilters.removeClass 'inactive-filter'\r\n\t\t\t$(@).hide()\r\n\t\t\thistory.pushState '', document.title, window.location.pathname\r\n\t\t\tsettings.grid.isotope\r\n\t\t\t\tfilter: '*'\r\n\r\n\t\tshowAll.click (e) ->\r\n\t\t\te.preventDefault()\r\n\t\t\tfilters.removeClass 'inactive-filter'\r\n\t\t\thistory.pushState '', document.title, window.location.pathname\r\n\t\t\tsettings.grid.isotope\r\n\t\t\t\tfilter: '*'\r\n\r\n\t\tfilterTriggers.click (e) ->\r\n\t\t\te.preventDefault()\r\n\t\t\tfilters.addClass 'inactive-filter'\r\n\t\t\t$(@).parent().removeClass 'inactive-filter'\r\n\t\t\tfilters.find('.clear-filter').hide()\r\n\t\t\t$(@).parent().find('.clear-filter').show()\r\n\t\t\tlocation.hash = 'filter=' + encodeURIComponent $(@).data('filter')\r\n\r\n\t\tonHashchange = ->\r\n\t\t\thashFilter = getHashFilter()\r\n\t\t\tif !hashFilter\r\n\t\t\t\treturn\r\n\t\t\t# filter isotope\r\n\t\t\tfilters.addClass 'inactive-filter'\r\n\t\t\tfilters.parent().find('.' + hashFilter).removeClass('inactive-filter').find('.clear-filter').show()\r\n\t\t\tsettings.grid.isotope\r\n\t\t\t\tfilter: '.' + hashFilter\r\n\r\n\t\t$(window).on 'hashchange', onHashchange\r\n\t\t# trigger event handler to init Isotope\r\n\t\tonHashchange()\r\n\r\n\t\t#filtrowanie sliderem\r\n\t\tupdateLegend = (sYear, eYear) ->\r\n\t\t\t\t$('.legend span').text(' ' + sYear + '–' + eYear)\r\n\r\n\t\tfilterIsotope = (sYear, eYear) ->\r\n\t\t\tvalue = $('.brick').filter( (index) ->\r\n\t\t\t\t$this = $(this)\r\n\t\t\t\tmatcharr = $this.attr('class').match(/brick\\s([0-9]*)/)\r\n\t\t\t\tif matcharr\r\n\t\t\t\t\tyear = parseInt(matcharr[1])\r\n\t\t\t\t\tif year >= sYear and year <= eYear then true else false\r\n\t\t\t\telse\r\n\t\t\t\t\tfalse\r\n\t\t\t)\r\n\t\t\tsettings.grid.isotope({filter:value})\r\n\r\n\t\tif settings.slider\r\n\t\t\t$('.slider')\r\n\t\t\t.slider\r\n\t\t\t\trange: true\r\n\t\t\t\tmin: settings.sliderRange[0]\r\n\t\t\t\tmax: settings.sliderRange[1]\r\n\t\t\t\tvalues: [settings.sliderRange[0], settings.sliderRange[1]]\r\n\t\t\t\tstop: (e, ui) ->\r\n\t\t\t\t\tfilterIsotope ui.values[0], ui.values[1]\r\n\t\t\t\t\tupdateLegend ui.values[0], ui.values[1]\r\n\t\t\t.slider 'pips',\r\n\t\t\t\tstep: 5\r\n\t\t\t.slider 'float'\r\n\t\t\tupdateLegend $('.slider').slider('values', 0), $('.slider').slider('values', 1)\r\n\r\n\tiSl: (options) -> #ta metoda nie jest uzywana, przeniosłem ją do MA.iS(), do usunięcia\r\n\t\tsettings = $.extend\r\n\t\t\t#defaults\r\n\t\t\tgrid: MA.settings.grid\r\n\t\t\tslider: $('.slider')\r\n\t\t\tsliderRange: [1965, 2016]\r\n\t\t\t, options\r\n\t\t\r\n\t\tupdateLegend = (sYear, eYear) ->\r\n\t\t\t\t$('.legend span').text(' ' + sYear + '–' + eYear)\r\n\r\n\t\tfilterIsotope = (sYear, eYear) ->\r\n\t\t\tvalue = $('.brick').filter( (index) ->\r\n\t\t\t\t$this = $(this)\r\n\t\t\t\tmatcharr = $this.attr('class').match(/brick\\s([0-9]*)/)\r\n\t\t\t\tif matcharr\r\n\t\t\t\t\tyear = parseInt(matcharr[1])\r\n\t\t\t\t\tif year >= sYear and year <= eYear then true else false\r\n\t\t\t\telse\r\n\t\t\t\t\tfalse\r\n\t\t\t)\r\n\t\t\t$('.bricks-container').isotope({filter:value})\r\n\r\n\t\t$.getScript '../../../workspace/js/jquery-ui.min.js', ->\r\n\t\t\t$.getScript '../../../workspace/js/jquery-ui-slider-pips.min.js', ->\r\n\t\t\t\t$('.slider')\r\n\t\t\t\t.slider\r\n\t\t\t\t\trange: true\r\n\t\t\t\t\tmin: settings.sliderRange[0]\r\n\t\t\t\t\tmax: settings.sliderRange[1]\r\n\t\t\t\t\tvalues: [settings.sliderRange[0], settings.sliderRange[1]]\r\n\t\t\t\t\tstop: (e, ui) ->\r\n\t\t\t\t\t\tfilterIsotope ui.values[0], ui.values[1]\r\n\t\t\t\t\t\tupdateLegend ui.values[0], ui.values[1]\r\n\t\t\t\t.slider 'pips',\r\n\t\t\t\t\tstep: 5\r\n\t\t\t\t.slider 'float'\r\n\t\t\t\tupdateLegend $('.slider').slider('values', 0), $('.slider').slider('values', 1)\r\n\r\n\tapiTest = ->\r\n  \tconsole.log 'Public API available!'\r\n\r\n\t# Public API\r\n\tapi:\r\n\t\tapiTest: apiTest\r\n\t\topenMenu: openMenu\r\n\t\tcloseMenu: closeMenu\r\n\t\tsetNavBackground: setNavBackground\r\n\t\tisotopeSetup: isotopeSetup\r\n\r\n\t# Initialize\r\n\tinit: ->\r\n\t\tsearchToggle(searchTrigger, searchForm)\r\n\t\tmenuToggle(menuTrigger, mainMenu)\r\n\t\t#isotopeSetup(grid, gridItem) # poprawić --> nie na wszystkich stronach\r\n\t\tHyphenator.config({\r\n\t\t\torphancontrol: 2\r\n\t\t\tdefaultlanguage: 'pl'\r\n\t\t\tminwordlength: 8\r\n\t\t})\r\n\t\tHyphenator.run()\r\n\r\n\r\nwindow.MA = new MA()\r\n\r\n# jQuery\r\n$ ->\r\n\twindow.MA.init()\r\n\r\n\t# kids-n-parents -> Warsztaty\r\n\twBtn = $('.kids-n-parents a.workshop')\r\n\twMore = $('.kids-n-parents .more')\r\n\twBtn.click (e) ->\r\n\t\te.preventDefault()\r\n\t\twMore.slideToggle()\r\n"]}